<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="message.html">message</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#archive">archive</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#delete">delete</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#edit">edit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#recall">recall</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#reply">reply</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#sendDraft">sendDraft</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="message.html#unArchive">unArchive</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="messages.html">messages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="messages.html#create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="messages.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="messages.html#getAll">getAll</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="messages.html#getRecipients">getRecipients</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="messages.html#send">send</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="news.html">news</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="news.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="news.html#list">list</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="OpenWilma.html">OpenWilma</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="OpenWilma.html#_getList">_getList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="OpenWilma.html#_refreshSession">_refreshSession</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="OpenWilma.html#login">login</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="OpenWilma.html#logout">logout</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="OpenWilma.html#setUser">setUser</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="printouts.html">printouts</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="printouts.html#getAll">getAll</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="schedule.html">schedule</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="schedule.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="schedule.html#getCurrent">getCurrent</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="schools.html">schools</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="schools.html#get">get</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="schools.html#getAll">getAll</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p align="center"><img height="200" src="https://raw.githubusercontent.com/OpenWilma/openwilma.github.io/master/assets/openwilma/github_banners/openwilma_js_gh_banner.png"><br>
 <a href="https://discord.gg/husTxHa">Chat with us on Discord!</a> | <a href="https://github.com/OpenWilma">Organization</a><br><u>Maintainers</u><br><img height="20" align="center"src="https://avatars2.githubusercontent.com/u/34211401?s=60&v=4"><a href="https://github.com/Esinko">Esinko</a> | <img align="center" height="20" src="https://avatars3.githubusercontent.com/u/46541386?s=460&u=0b7735ff22a2f572b4302f479a0596cbd5c2923d&v=4"><a href="https://github.com/ahnl">Miksu <i>(ahnl)</i></a>
</p>
<hr>
<p>A Node.js and browser library for interacting with the Wilma API. <br>Use this simple and secure library to create your own Wilma enabled applications!</p>
<h4>(Library still in development, do not use in production)</h4>
<h3>Supported platforms</h3>
<p>This library has support for <strong>Browser and Node.Js</strong> platforms. Both platforms run the <strong>same module</strong>, so using your code on the other supported platform is very simple. <br>(Just copy it)</p>
<h1>Installation</h1>
<h2>Node.js</h2>
<p>This Node.js module is not yet available through the npm registry, since it is still heavily in developement and not stable.</p>
<p>Before installing, download and install Node.js.</p>
<p>Installation is done using the npm install command, which in our case pulls the module from GitHub:</p>
<pre class="prettyprint source"><code>$ npm install OpenWilma/openwilma_js
</code></pre>
<h2>Browser</h2>
<p>Download this repository to your site. You can use this link to download a zip archive. Don't forget to unarchive it:</p>
<h4><a href="https://github.com/OpenWilma/openwilma_js/archive/master.zip">Master.zip</a></h4>
<h1>Quick Start</h1>
<p>This is a simple tutorial on how to get started with OpenWilma. Please follow the correct instructions for your specific platform.
If you encounter errors, please see the <a href="https://github.com/OpenWilma/openwilma_js#common-errors">common errors</a> list.</p>
<h2>Step 1</h2>
<p>Import OpenWilma to your project based on your platform using the following instructions.</p>
<p>For Node.js, do:</p>
<pre class="prettyprint source lang-js"><code>const OpenWilma = require('openwilma');
</code></pre>
<p>For browsers, do (make sure to correct the path, if needed):</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;/OpenWilma/OpenWilma.js&quot;>&lt;/script>
</code></pre>
<h2>Step 2</h2>
<p>Make a new instance of OpenWilma. (Pro tip: By creating multiple instances you can have simultaneously open multiple instances of OpenWilma that are logged into different accounts at once.)
<br>For Node.js, do:</p>
<pre class="prettyprint source lang-js"><code>const api = new OpenWilma()
</code></pre>
<p>For browsers (use script tags!), do:</p>
<pre class="prettyprint source lang-html"><code>&lt;script>
    const api = new OpenWilma()
&lt;/script>
</code></pre>
<h2>Step 3</h2>
<p>Login to your Wilma account.
<br>For Node.js, do:</p>
<pre class="prettyprint source lang-js"><code>api.login(&quot;https://my_wilma_server.inschool.fi&quot;, &quot;my_username&quot;, &quot;my_secure_password&quot;).then(async result => {
    //You are logged in!
}).catch(async error => {
    console.log(&quot;Something went wrong: &quot;, err)
})
</code></pre>
<p>For browsers, do:</p>
<pre class="prettyprint source lang-html"><code>&lt;script>
    api.login(&quot;https://my_wilma_server.inschool.fi&quot;, &quot;my_username&quot;, &quot;my_secure_password&quot;).then(async result => {
        //You are logged in!
    }).catch(async error => {
        console.log(&quot;Something went wrong: &quot;, err)
    })
&lt;/script>
</code></pre>
<h2>Step 4</h2>
<p>Perform some simple operations against the Wilma &quot;api&quot;. Below there will be a <strong>complete</strong> script to get the messages in the user's inbox.
For Node.js:</p>
<pre class="prettyprint source lang-js"><code>const OpenWilma = require(&quot;openwilma&quot;)
const api = new OpenWilma()
api.login(&quot;https://my_wilma_server.inschool.fi&quot;, &quot;my_username&quot;, &quot;my_secure_password&quot;).then(async result => {
    //You are logged in!
    api.messages.getAll(&quot;inbox&quot;).then(async result => {
        console.log(&quot;Messages in the inbox:\n&quot;, result)
    }).catch(async error => {
        console.log(&quot;Something went wrong: &quot;, err)
    })
}).catch(async error => {
    console.log(&quot;Something went wrong: &quot;, err)
})
</code></pre>
<p>For browsers (make sure to correct paths, if needed):</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;/OpenWilma/OpenWilma.js&quot;>&lt;/script>
&lt;script>
    const api = new OpenWilma()
    api.login(&quot;https://my_wilma_server.inschool.fi&quot;, &quot;my_username&quot;, &quot;my_secure_password&quot;).then(async result => {
        //You are logged in!
    }).catch(async error => {
        console.log(&quot;Something went wrong: &quot;, err)
    })
&lt;/script>
</code></pre>
<h2>Common errors</h2>
<ul>
<li><code>No such wilma server available</code>, This means that the server you are trying to connect is not on the list of &quot;offical&quot; Wilma servers. It does not matter if your server is not &quot;offical&quot;, it may still work. You just need to bypass the server check by adding one more argument to the .login() function. You need to add &quot;false&quot;, which would look like this:</li>
</ul>
<pre class="prettyprint source lang-js"><code>    //Pro tip: &lt;OpenWilma> is known as &quot;api&quot; in the quick start
    &lt;OpenWilma>.login(&quot;https://my_wilma_server.inschool.fi&quot;, &quot;my_username&quot;, &quot;my_secure_password&quot;, false)
</code></pre>
<ul>
<li><code>OpenWilma parsing error: &lt;error&gt;</code>, This error is logged into the console and reports an error in OpenWilma's parser. If you encounter this error, please make a <a href="https://github.com/OpenWilma/openwilma_js/issues/new">new issue</a> on this Github repository with the <strong>whole</strong> logged message, so it can be resolved. (This issue is hardcoded and only occures when the given data format is not supported or something has changed in Wilma's api)</li>
</ul>
<h2>Extras <em>(end of quick start)</em></h2>
<p>There! You now have a working sample of how to use OpenWilma. You should look at this repository's wiki for more things you can do with OpenWilma.<br>
Next you can check <code>test.js</code> or <code>test.html</code> for the latest working examples/tests.</p>
<h4>(Wiki still work in progress)</h4>
<h1>Related repositories</h1>
<p>Wilma API wiki: (To be created)
<br>Wilma API response parsing guidelines: <a href="https://github.com/OpenWilma/parsing">Parsing</a></p>
<h1>Development</h1>
<p>To see what is being worked on, take a look in the pull requests and branches of this repo. Please feel free to join our <a href="https://discord.gg/husTxHa">Discord server</a>.
<br></p>
<h5>The Esinko branch: <a href="https://github.com/OpenWilma/openwilma_js/tree/Esinko">Esinko-Branch</a></h5>
<h1>License</h1>
<p><code>See LICENSE</code></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Wed Feb 17 2021 20:12:38 GMT+0200 (Itä-Euroopan normaaliaika) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>